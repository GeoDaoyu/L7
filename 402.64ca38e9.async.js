(self.webpackChunk_antv_l7_site=self.webpackChunk_antv_l7_site||[]).push([[402],{69263:function(e,t,n){"use strict";var r=n(37088),o=n(92379),u=n(23844),i=n(76194),a=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:u.Z}))},c=o.forwardRef(a);t.Z=c},6467:function(e,t,n){"use strict";var r=n(37088),o=n(92379),u=n(89255),i=n(76194),a=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:u.Z}))},c=o.forwardRef(a);t.Z=c},72316:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(37088),o=n(92379),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"}}]},name:"picture",theme:"outlined"},i=n(76194),a=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:u}))};var c=o.forwardRef(a)},60056:function(e,t,n){"use strict";n.d(t,{Co:function(){return Se},br:function(){return Oe},$2:function(){return Q},Kh:function(){return Le},Ie:function(){return be},w3:function(){return Ae}});var r,o=n(50977),u=n(92379),i=n(27753),a=n.n(i),c=(r=u.useEffect,function(e,t){var n,o,i=(0,u.useRef)(),c=(0,u.useRef)(0);void 0!==t&&(n=t,o=i.current,void 0===n&&(n=[]),void 0===o&&(o=[]),a()(n,o))||(i.current=t,c.current+=1),r(e,[c.current])}),l=n(80324),s=n.n(l),f=n(78757),p=n(47033),d=n(61360),v=n(4868);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,u=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function C(e,t,n){return(t=Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:String(t)}var x=0,M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(u,e);var t,n,r,o=w(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),C(E(t=o.call(this)),"scene",void 0),C(E(t),"options",void 0),C(E(t),"layerMap",new Map),t.scene=e.scene,t.options=e,t}return t=u,(n=[{key:"hasLayer",value:function(e){return this.layerMap.has(e)}},{key:"addLayer",value:function(e){var t=this.getLayerId(e);this.layerMap.set(t,e),e.addTo(this.scene),this.emit("add",e)}},{key:"addLayers",value:function(e){var t=this;e.forEach((function(e){t.addLayer(e)}))}},{key:"removeLayer",value:function(e){var t="string"==typeof e?e:this.getLayerId(e),n=this.layerMap.get(t);return!!n&&(this.layerMap.delete(t),n.remove(),this.emit("remove",t),!0)}},{key:"getLayers",value:function(){return Array.from(this.layerMap.values())}},{key:"getLayerById",value:function(e){return this.layerMap.get(e)}},{key:"getLayer",value:function(e){return this.getLayerById(e)}},{key:"removeAllLayer",value:function(){var e,t=y(this.layerMap.values());try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(e){t.e(e)}finally{t.f()}this.layerMap.clear()}},{key:"isEmpty",value:function(){return 0===this.layerMap.size}},{key:"getLayerId",value:function(e){return"id"in e?e.id:"".concat(x++)}},{key:"destroy",value:function(){this.removeAllLayer()}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(v.Z),P=n(56442);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,u,i,a=[],c=!0,l=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=u.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(null!=e?e:{}).map((function(e){var t=j(e,2),n=t[0],r=t[1],o=(0,P.Z)(n),u=r;return"number"==typeof u?u="".concat(u,"px"):"string"==typeof u&&(u=u.replace("'","")),"".concat(o," :").concat(u)})).join("; ")};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function N(){N=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},i=u.iterator||"@@iterator",a=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var u=t&&t.prototype instanceof y?t:y,i=Object.create(u.prototype),a=new j(r||[]);return o(i,"_invoke",{value:Z(e,n,a)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="executing",v="completed",m={};function y(){}function h(){}function b(){}var g={};l(g,i,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(I([])));S&&S!==n&&r.call(S,i)&&(g=S);var E=b.prototype=y.prototype=Object.create(g);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,u,i,a){var c=f(e[o],e,u);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==k(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,a)}),(function(e){n("throw",e,i,a)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,a)}))}a(c.arg)}var u;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return u=u?u.then(o,o):o()}})}function Z(t,n,r){var o=p;return function(u,i){if(o===d)throw new Error("Generator is already running");if(o===v){if("throw"===u)throw i;return{value:e,done:!0}}for(r.method=u,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(t,n,r);if("normal"===l.type){if(o=r.done?v:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function x(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var u=f(o,t.iterator,n.arg);if("throw"===u.type)return n.method="throw",n.arg=u.arg,n.delegate=null,m;var i=u.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,u=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return u.next=u}}throw new TypeError(k(t)+" is not iterable")}return h.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:h,configurable:!0}),h.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},O(C.prototype),l(C.prototype,a,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,u){void 0===u&&(u=Promise);var i=new C(s(e,n,r,o),u);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var u=this.tryEntries.length-1;u>=0;--u){var i=this.tryEntries[u],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var u=o;break}}u&&("break"===e||"continue"===e)&&u.tryLoc<=t&&t<=u.finallyLoc&&(u=null);var i=u?u.completion:{};return i.type=e,i.arg=t,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function R(e,t,n,r,o,u,i){try{var a=e[u](i),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}var T=function(){var e,t=(e=N().mark((function e(t,r){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Map"!==t){e.next=2;break}return e.abrupt("return",new o.Map(r));case 2:if("Gaode"!==t){e.next=6;break}return e.abrupt("return",new o.GaodeMap(r));case 6:if("GaodeV1"!==t){e.next=10;break}return e.abrupt("return",new o.GaodeMapV1(r));case 10:if("GaodeV2"!==t){e.next=12;break}return e.abrupt("return",new o.GaodeMapV2(r));case 12:if("Tencent"!==t){e.next=14;break}return e.abrupt("return",Promise.resolve(Promise.resolve().then(n.bind(n,50977))).then((function(e){return new(0,e.TencentMap)(r)})));case 14:if("Baidu"!==t){e.next=16;break}return e.abrupt("return",Promise.resolve(Promise.resolve().then(n.bind(n,50977))).then((function(e){return new(0,e.BaiduMap)(r)})));case 16:return e.abrupt("return",Promise.resolve(Promise.resolve().then(n.bind(n,50977))).then((function(e){return new(0,e.Mapbox)(r)})));case 17:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function i(e){R(u,r,o,i,a,"next",e)}function a(e){R(u,r,o,i,a,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),D=function(e,t){var n=(0,u.useRef)();(0,u.useEffect)((function(){var r,o,u=(r=n.current,o=t,r?r.map((function(e,t){return Object.is(r[t],null==o?void 0:o[t])?-1:t})).filter((function(e){return e>=0})):o?o.map((function(e,t){return t})):[]),i=n.current;return n.current=t,e(u,i,t)}),t)};var L=function(e){var t=(0,u.useRef)(e);return t.current=e,t},_=function(e){var t=L(e);(0,u.useEffect)((function(){return function(){t.current()}}),[])},V={onLoaded:"loaded",onDestroy:"destroy",onResize:"resize",onMapMove:"mapmove",onMoveStart:"movestart",onMoveEnd:"moveend",onZoomChange:"zoomchange",onZoomStart:"zoomstart",onZoomEnd:"zoomend",onClick:"click",onDblclick:"dblclick",onContextMenu:"contextmenu",onMouseMove:"mousemove",onMouseWheel:"mousewheel",onMouseDown:"mousedown",onMouseOver:"mouseover",onMouseOut:"mouseout",onMouseUp:"mouseup",onDragStart:"dragstart",onDragging:"dragging",onDragEnd:"dragend"},F=Object.keys(V);function B(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}var H=["id","style","className","map","mapType","mapOptions","onLayerManagerCreated","onSceneLoaded","children"];function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){var r;return r=function(e,t){if("object"!=z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==z(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,u,i,a=[],c=!0,l=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=u.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var J=u.createContext(null),Q=(0,u.memo)((0,u.forwardRef)((function(e,t){var n=e.id,r=e.style,i=e.className,a=e.map,l=e.mapType,v=void 0===l?"Gaode":l,m=e.mapOptions,y=void 0===m?{}:m,h=e.onLayerManagerCreated,b=e.onSceneLoaded,g=e.children,w=X(e,H),S=(0,u.useRef)(),E=$((0,u.useState)(null),2),O=E[0],C=E[1],Z=(0,u.useRef)({scene:null,layerManager:null}).current;(0,u.useEffect)((function(){var e,t=!0,n=(0,f.Z)(a)?T(v,y):"function"==typeof a?a():a;return Promise.resolve(n).then((function(n){if(t){e=new o.Scene(W(W({},w),{},{id:S.current,map:n}));var r=new M({scene:e});Z.scene=e,Z.layerManager=r,e.once("loaded",(function(){b&&b(e),h&&h(r),C(e)}))}})).catch((function(e){console.error(e)})),function(){t=!1,e&&(Z.scene=null,Z.layerManager=null,e.destroy())}}),[]),function(e,t){D((function(t,n,r){if(e){var o=t.filter((function(e){return!!e})).map((function(e){return e-1}));t.includes(0)&&(o=F.map((function(e,t){return t}))),o.forEach((function(t){var o=V[F[t]],u=n[t+1],i=r[t+1];u&&e.off(o,u),i&&e.on(o,i)}))}}),[e].concat(B(F.map((function(e){return t[e]}))))),_((function(){e&&F.forEach((function(n){var r=V[n],o=t[n];r&&o&&e.off(r,o)}))}))}(O,e),(0,u.useImperativeHandle)(t,(function(){return{getScene:function(){return O},getMap:function(){return O.map}}}),[O]),(0,u.useEffect)((function(){O&&y.style&&O.setMapStyle(y.style)}),[y.style]),c((function(){(0,p.Z)(O)||(y.center&&(0,d.Z)(y.zoom)?O.setZoomAndCenter(y.zoom,y.center):(0,d.Z)(y.zoom)?O.setZoom(y.zoom):y.center&&O.setCenter(y.center))}),[y.zoom,y.center]),(0,u.useEffect)((function(){O&&(0,d.Z)(y.pitch)&&O.setPitch(y.pitch)}),[y.pitch]),(0,u.useEffect)((function(){O&&(0,d.Z)(y.rotation)&&O.setRotation(y.rotation)}),[y.rotation]);var x=(0,u.useMemo)((function(){return W({position:"relative"},r)}),[r]);return u.createElement("div",{id:n,ref:S,style:x,className:s()("larkmap",i)},O&&u.createElement(J.Provider,{value:Z},g))}))),q=function(e){return function(t,n){var r=(0,u.useRef)(!1);e((function(){return function(){r.current=!1}}),[]),e((function(){if(r.current)return t();r.current=!0}),n)}},ee=q(u.useEffect),te=function(){var e=(0,u.useContext)(J);if(!e)throw new Error("The useScene must be used in the LarkMap container");return e.scene},ne=function(){var e=(0,u.useContext)(J);if(!e)throw new Error("The useLayerManager must be used in the LarkMap container");return e.layerManager};function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,u,i,a=[],c=!0,l=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=u.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue=n(85723),ie=n(8504);function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}var ce=["onCreated","source"],le=["data"],se=["data"];function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e,t,n){var r;return r=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ae(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ve=function(e,t){var n=t.onCreated,r=t.source,o=de(t,ce),i=ne(),a=(0,u.useRef)(),c=(0,u.useRef)(o),l=(0,u.useRef)(r);return a.current||(a.current=new e(t),n&&a.current.once("inited",(function(){return n(a.current)})),i.addLayer(a.current)),ee((function(){a.current&&(!(0,ue.Z)(c.current,o)&&(a.current.update(o),c.current=(0,ie.Z)(o)))}),[o]),ee((function(){if(a.current){var e=r.data,t=de(r,le),n=l.current,o=n.data,u=de(n,se);(e!==o||!(0,ue.Z)(t,u))&&(a.current.changeData(r),l.current=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}}),[r]),(0,u.useEffect)((function(){return function(){a.current&&(i.removeLayer(a.current),a.current=null)}}),[]),a},me={onRemove:"remove",onShow:"show",onHide:"hide",onDataUpdate:"dataUpdate",onLegend:"legend",onLegendColor:"legend:color",onLegendSize:"legend:size",onClick:"click",onUnClick:"unclick",onDblClick:"dblclick",onUndblclick:"undblclick",onContextMenu:"contextmenu",onUnContextMenu:"uncontextmenu",onMouseEnter:"mouseenter",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseUp:"mouseup",onMouseDown:"mousedown",onUnMousemove:"unmousemove",onUnMouseup:"unmouseup",onUnMousedown:"unmousedown",onUnPick:"unpick"},ye=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:me,r=(0,u.useMemo)((function(){return Object.keys(n)}),[n]),o=function(o){r.forEach((function(r){var u=n[r],i=t[r];r&&i&&e[o](u,i)}))},i=function(){return o("on")},a=function(){return o("off")},c=(0,u.useRef)(!0);c.current&&i(),(0,u.useEffect)((function(){return c.current?c.current=!1:i(),function(){a()}}),r.map((function(e){return t[e]}))),_((function(){a()}))},he=n(32180),be=(0,u.memo)((0,u.forwardRef)((function(e,t){var n=ve(he.I,e);return ye(n.current,e),(0,u.useImperativeHandle)(t,(function(){return n.current})),null}))),ge=(Object.assign(me,{onSelect:"select",onUnselect:"unselect"}),n(68080)),we=Object.assign(me,{onSelect:"select",onUnselect:"unselect"}),Se=(0,u.memo)((0,u.forwardRef)((function(e,t){var n=ve(ge.C,e);return ye(n.current,e,we),(0,u.useImperativeHandle)(t,(function(){return n.current})),null}))),Ee=n(95295),Oe=function(e){var t=e.className,n=e.style,r=e.children,i=e.position,a=void 0===i?"topleft":i,c=e.name,l=(0,u.useRef)(document.createElement("div")),s=A(n);return function(e,t,n){var r=te(),i=(0,u.useRef)();(0,u.useEffect)((function(){var u=new o.Control(n);return u.onAdd=function(){return e(r)},u.onRemove=function(){},i.current=u,r.addControl(u),function(){"function"==typeof t&&t(r),i.current=null,r.removeControl(u)}}),[]),ee((function(){var e;null===(e=i.current)||void 0===e||e.setOptions(n)}),[n])}((0,u.useCallback)((function(){return l.current}),[]),void 0,(0,u.useMemo)((function(){return{position:a,name:c,className:t,style:s}}),[a,c,t,s])),(0,Ee.createPortal)(r,l.current)};function Ce(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe=function(e,t){var n=(0,u.useMemo)((function(){return Object.keys(t)}),[t]);(0,u.useEffect)((function(){return e&&n.forEach((function(n){var r=t[n];r&&e.on(n,r)})),function(){e&&n.forEach((function(n){var r=t[n];r&&e.off(n,r)}))}}),[e].concat(Ce(Object.values(t)))),_((function(){e&&n.forEach((function(n){var r=t[n];r&&e.off(n,r)}))}))},Me=function(e,t){var n=(0,u.useRef)(!0),r=(0,u.useMemo)((function(){return Object.keys(t)}),[t]);D((function(o){if(n.current)n.current=!1;else{var u={};o.forEach((function(e){var n=r[e];u[n]=t[n]})),null==e||e.setOptions(u)}}),Object.values(t))};var Pe=n(75313);function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,u,i,a=[],c=!0,l=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=u.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ae=function(e){var t,n,r=e.popperPlacement,i=e.btnText,a=e.title,c=e.vertical,l=e.position,s=e.className,f=e.options,p=e.popperTrigger,d=e.popperClassName,v=e.btnIcon,m=e.style,y=e.onAdd,h=e.onRemove,b=e.onShow,g=e.onHide,w=e.onPopperShow,S=e.onPopperHide,E=e.onSelectChange,O=te(),C=je((0,u.useState)(),2),Z=C[0],x=C[1],M=(0,u.useMemo)((function(){return A(m)}),[m]),P=(t=v,n=(0,u.useRef)(document.createElement("span")),{portal:t?(0,Ee.createPortal)(t,n.current):null,dom:t?n.current:void 0}),j=P.portal,I=P.dom,k=(0,u.useMemo)((function(){return{popperPlacement:r,popperTrigger:p,popperClassName:d,btnText:i,title:a,vertical:c,position:l,className:s,options:f,style:M,btnIcon:I}}),[f,r,p,d,i,a,c,l,s,M,I]);return(0,u.useEffect)((function(){var e=new o.MapTheme((0,Pe.Z)(k,(function(e){return void 0===e})));return x(e),O.addControl(e),function(){O.removeControl(e),x(void 0)}}),[]),Me(Z,k),xe(Z,{add:y,remove:h,show:b,hide:g,popperShow:w,popperHide:S,selectChange:E}),u.createElement(u.Fragment,null,j)};var ke=function(e,t){if(e instanceof Function){var n=document.createElement(t);return function(){var t=e.apply(void 0,arguments),r=Ee.createPortal(t,n);return Ee.render(r,n),n}}var r=document.createElement(t),o=Ee.createPortal(e,r);return Ee.render(o,r),r};function Ne(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,u,i,a=[],c=!0,l=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=u.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return a}}(e,t)||Te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Le=function(e){var t=e.style,n=e.closeButton,r=e.closeButtonOffsets,i=e.closeOnClick,a=e.closeOnEsc,c=e.maxWidth,l=e.anchor,s=e.offsets,f=e.stopPropagation,p=e.autoPan,d=e.autoClose,v=e.className,m=e.lngLat,y=e.items,h=e.trigger,b=e.onOpen,g=e.onClose,w=e.onShow,S=e.onHide,E=te(),O=Re((0,u.useState)(),2),C=O[0],Z=O[1],x=(0,u.useMemo)((function(){return A(t)}),[t]),M=function(){var e=ne(),t=re((0,u.useState)((null==e?void 0:e.getLayers())||[]),2),n=t[0],r=t[1];return(0,u.useEffect)((function(){if(e){var t=function(){r(e.getLayers())};return e.on("add",t),e.on("remove",t),function(){e.off("add",t),e.off("remove",t)}}}),[e]),n}(),P=(0,u.useMemo)((function(){var e=[];return y.forEach((function(t){var n;if("string"==typeof t.layer){var r=M.find((function(e){return e.id===t.layer}));if(!r)return;n=r}else n=t.layer;var o=[];n.isComposite?o.push.apply(o,Ne(n.getInteractionSubLayers())):o.push(n),o.forEach((function(n){var r,o={layer:n};t.title&&(o.title=ke(t.title,"div")),t.customContent&&(o.customContent=ke(t.customContent,"div")),null!==(r=t.fields)&&void 0!==r&&r.length&&(o.fields=t.fields.map((function(e){if("string"==typeof e)return e;var t={field:e.field,getValue:e.getValue};return e.formatField&&(t.formatField=ke(e.formatField,"span")),e.formatValue&&(t.formatValue=ke(e.formatValue,"span")),t}))),e.push(o)}))})),e}),[M,y]),j=(0,u.useMemo)((function(){return{style:x,closeButton:n,closeButtonOffsets:r,closeOnClick:i,closeOnEsc:a,maxWidth:c,anchor:l,offsets:s,stopPropagation:f,autoPan:p,autoClose:d,followCursor:"hover"===h,className:v,lngLat:m,items:P,trigger:h}}),[x,n,JSON.stringify(r),i,a,c,l,JSON.stringify(s),f,p,d,v,h,JSON.stringify(m),P]);return(0,u.useEffect)((function(){var e=new o.LayerPopup((0,Pe.Z)(j,(function(e){return void 0===e})));return Z(e),E.addPopup(e),function(){E.removePopup(e),Z(void 0)}}),[]),Me(C,j),xe(C,{open:b,close:g,show:w,hide:S}),u.createElement(u.Fragment,null)};n(59316);n(68805);var _e=n(7236),Ve=n(37088),Fe=n(34749),Be=n(75502),Ue=n(25822),ze=n(80216),He=n(73315),Ke=n(92664),We=n(23788),Ge=n(90639),$e=n(76257),Ye=n(35886),Xe=n(22760),Je=n(13896),Qe=function(e){var t=e.className,n=e.customizeIcon,r=e.customizeIconProps,o=e.children,i=e.onMouseDown,a=e.onClick,c="function"==typeof n?n(r):n;return u.createElement("span",{className:t,onMouseDown:function(e){e.preventDefault(),null==i||i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},void 0!==c?c:u.createElement("span",{className:s()(t.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},o))},qe=u.createContext(null);function et(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=u.useRef(null),n=u.useRef(null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return u.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var tt=n(53988),nt=n(27498),rt=function(e,t){var n,r=e.prefixCls,o=e.id,i=e.inputElement,a=e.disabled,c=e.tabIndex,l=e.autoFocus,f=e.autoComplete,p=e.editable,d=e.activeDescendantId,v=e.value,m=e.maxLength,y=e.onKeyDown,h=e.onMouseDown,b=e.onChange,g=e.onPaste,w=e.onCompositionStart,S=e.onCompositionEnd,E=e.open,O=e.attrs,C=i||u.createElement("input",null),Z=C,x=Z.ref,M=Z.props,P=M.onKeyDown,j=M.onChange,I=M.onMouseDown,A=M.onCompositionStart,k=M.onCompositionEnd,N=M.style;return(0,Ge.Kp)(!("maxLength"in C.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),C=u.cloneElement(C,(0,Ue.Z)((0,Ue.Z)((0,Ue.Z)({type:"search"},M),{},{id:o,ref:(0,Je.sQ)(t,x),disabled:a,tabIndex:c,autoComplete:f||"off",autoFocus:l,className:s()("".concat(r,"-selection-search-input"),null===(n=C)||void 0===n||null===(n=n.props)||void 0===n?void 0:n.className),role:"combobox","aria-expanded":E||!1,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":E?d:void 0},O),{},{value:p?v:"",maxLength:m,readOnly:!p,unselectable:p?null:"on",style:(0,Ue.Z)((0,Ue.Z)({},N),{},{opacity:p?null:0}),onKeyDown:function(e){y(e),P&&P(e)},onMouseDown:function(e){h(e),I&&I(e)},onChange:function(e){b(e),j&&j(e)},onCompositionStart:function(e){w(e),A&&A(e)},onCompositionEnd:function(e){S(e),k&&k(e)},onPaste:g}))};var ot=u.forwardRef(rt);function ut(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var it="undefined"!=typeof window&&window.document&&window.document.documentElement;function at(e){return["string","number"].includes((0,Ke.Z)(e))}function ct(e){var t=void 0;return e&&(at(e.title)?t=e.title.toString():at(e.label)&&(t=e.label.toString())),t}function lt(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var st=function(e){e.preventDefault(),e.stopPropagation()},ft=function(e){var t,n,r=e.id,o=e.prefixCls,i=e.values,a=e.open,c=e.searchValue,l=e.autoClearSearchValue,f=e.inputRef,p=e.placeholder,d=e.disabled,v=e.mode,m=e.showSearch,y=e.autoFocus,h=e.autoComplete,b=e.activeDescendantId,g=e.tabIndex,w=e.removeIcon,S=e.maxTagCount,E=e.maxTagTextLength,O=e.maxTagPlaceholder,C=void 0===O?function(e){return"+ ".concat(e.length," ...")}:O,Z=e.tagRender,x=e.onToggleOpen,M=e.onRemove,P=e.onInputChange,j=e.onInputPaste,I=e.onInputKeyDown,A=e.onInputMouseDown,k=e.onInputCompositionStart,N=e.onInputCompositionEnd,R=u.useRef(null),T=(0,u.useState)(0),D=(0,ze.Z)(T,2),L=D[0],_=D[1],V=(0,u.useState)(!1),F=(0,ze.Z)(V,2),B=F[0],U=F[1],z="".concat(o,"-selection"),H=a||"multiple"===v&&!1===l||"tags"===v?c:"",K="tags"===v||"multiple"===v&&!1===l||m&&(a||B);t=function(){_(R.current.scrollWidth)},n=[H],it?u.useLayoutEffect(t,n):u.useEffect(t,n);var W=function(e,t,n,r,o){return u.createElement("span",{title:ct(e),className:s()("".concat(z,"-item"),(0,Be.Z)({},"".concat(z,"-item-disabled"),n))},u.createElement("span",{className:"".concat(z,"-item-content")},t),r&&u.createElement(Qe,{className:"".concat(z,"-item-remove"),onMouseDown:st,onClick:o,customizeIcon:w},"×"))},G=function(e,t,n,r,o,i){return u.createElement("span",{onMouseDown:function(e){st(e),x(!a)}},Z({label:t,value:e,disabled:n,closable:r,onClose:o,isMaxTag:!!i}))},$=u.createElement("div",{className:"".concat(z,"-search"),style:{width:L},onFocus:function(){U(!0)},onBlur:function(){U(!1)}},u.createElement(ot,{ref:f,open:a,prefixCls:o,id:r,inputElement:null,disabled:d,autoFocus:y,autoComplete:h,editable:K,activeDescendantId:b,value:H,onKeyDown:I,onMouseDown:A,onChange:P,onPaste:j,onCompositionStart:k,onCompositionEnd:N,tabIndex:g,attrs:(0,tt.Z)(e,!0)}),u.createElement("span",{ref:R,className:"".concat(z,"-search-mirror"),"aria-hidden":!0},H," ")),Y=u.createElement(nt.Z,{prefixCls:"".concat(z,"-overflow"),data:i,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,o=!d&&!t,u=n;if("number"==typeof E&&("string"==typeof n||"number"==typeof n)){var i=String(u);i.length>E&&(u="".concat(i.slice(0,E),"..."))}var a=function(t){t&&t.stopPropagation(),M(e)};return"function"==typeof Z?G(r,u,t,o,a):W(e,u,t,o,a)},renderRest:function(e){var t="function"==typeof C?C(e):C;return"function"==typeof Z?G(void 0,t,!1,!1,void 0,!0):W({title:t},t,!1)},suffix:$,itemKey:lt,maxCount:S});return u.createElement(u.Fragment,null,Y,!i.length&&!H&&u.createElement("span",{className:"".concat(z,"-placeholder")},p))},pt=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,o=e.inputRef,i=e.disabled,a=e.autoFocus,c=e.autoComplete,l=e.activeDescendantId,s=e.mode,f=e.open,p=e.values,d=e.placeholder,v=e.tabIndex,m=e.showSearch,y=e.searchValue,h=e.activeValue,b=e.maxLength,g=e.onInputKeyDown,w=e.onInputMouseDown,S=e.onInputChange,E=e.onInputPaste,O=e.onInputCompositionStart,C=e.onInputCompositionEnd,Z=e.title,x=u.useState(!1),M=(0,ze.Z)(x,2),P=M[0],j=M[1],I="combobox"===s,A=I||m,k=p[0],N=y||"";I&&h&&!P&&(N=h),u.useEffect((function(){I&&j(!1)}),[I,h]);var R=!("combobox"!==s&&!f&&!m)&&!!N,T=void 0===Z?ct(k):Z,D=u.useMemo((function(){return k?null:u.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:R?{visibility:"hidden"}:void 0},d)}),[k,R,d,n]);return u.createElement(u.Fragment,null,u.createElement("span",{className:"".concat(n,"-selection-search")},u.createElement(ot,{ref:o,prefixCls:n,id:r,open:f,inputElement:t,disabled:i,autoFocus:a,autoComplete:c,editable:A,activeDescendantId:l,value:N,onKeyDown:g,onMouseDown:w,onChange:function(e){j(!0),S(e)},onPaste:E,onCompositionStart:O,onCompositionEnd:C,tabIndex:v,attrs:(0,tt.Z)(e,!0),maxLength:I?b:void 0})),!I&&k?u.createElement("span",{className:"".concat(n,"-selection-item"),title:T,style:R?{visibility:"hidden"}:void 0},k.label):null,D)},dt=function(e,t){var n=(0,u.useRef)(null),r=(0,u.useRef)(!1),o=e.prefixCls,i=e.open,a=e.mode,c=e.showSearch,l=e.tokenWithEnter,s=e.disabled,f=e.autoClearSearchValue,p=e.onSearch,d=e.onSearchSubmit,v=e.onToggleOpen,m=e.onInputKeyDown,y=e.domRef;u.useImperativeHandle(t,(function(){return{focus:function(e){n.current.focus(e)},blur:function(){n.current.blur()}}}));var h=et(0),b=(0,ze.Z)(h,2),g=b[0],w=b[1],S=(0,u.useRef)(null),E=function(e){!1!==p(e,!0,r.current)&&v(!0)},O={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==Xe.Z.UP&&n!==Xe.Z.DOWN||e.preventDefault(),m&&m(e),n!==Xe.Z.ENTER||"tags"!==a||r.current||i||null==d||d(e.target.value),t=n,[Xe.Z.ESC,Xe.Z.SHIFT,Xe.Z.BACKSPACE,Xe.Z.TAB,Xe.Z.WIN_KEY,Xe.Z.ALT,Xe.Z.META,Xe.Z.WIN_KEY_RIGHT,Xe.Z.CTRL,Xe.Z.SEMICOLON,Xe.Z.EQUALS,Xe.Z.CAPS_LOCK,Xe.Z.CONTEXT_MENU,Xe.Z.F1,Xe.Z.F2,Xe.Z.F3,Xe.Z.F4,Xe.Z.F5,Xe.Z.F6,Xe.Z.F7,Xe.Z.F8,Xe.Z.F9,Xe.Z.F10,Xe.Z.F11,Xe.Z.F12].includes(t)||v(!0)},onInputMouseDown:function(){w(!0)},onInputChange:function(e){var t=e.target.value;if(l&&S.current&&/[\r\n]/.test(S.current)){var n=S.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,S.current)}S.current=null,E(t)},onInputPaste:function(e){var t=e.clipboardData,n=null==t?void 0:t.getData("text");S.current=n||""},onInputCompositionStart:function(){r.current=!0},onInputCompositionEnd:function(e){r.current=!1,"combobox"!==a&&E(e.target.value)}},C="multiple"===a||"tags"===a?u.createElement(ft,(0,Ve.Z)({},e,O)):u.createElement(pt,(0,Ve.Z)({},e,O));return u.createElement("div",{ref:y,className:"".concat(o,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=g();e.target===n.current||t||"combobox"===a&&s||e.preventDefault(),("combobox"===a||c&&t)&&i||(i&&!1!==f&&p("",!0,!1),v())}},C)};var vt=u.forwardRef(dt),mt=n(20055),yt=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],ht=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),o=e.children,i=e.popupElement,a=e.animation,c=e.transitionName,l=e.dropdownStyle,f=e.dropdownClassName,p=e.direction,d=void 0===p?"ltr":p,v=e.placement,m=e.builtinPlacements,y=e.dropdownMatchSelectWidth,h=e.dropdownRender,b=e.dropdownAlign,g=e.getPopupContainer,w=e.empty,S=e.getTriggerDOMNode,E=e.onPopupVisibleChange,O=e.onPopupMouseEnter,C=(0,He.Z)(e,yt),Z="".concat(n,"-dropdown"),x=i;h&&(x=h(i));var M=u.useMemo((function(){return m||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(y)}),[m,y]),P=a?"".concat(Z,"-").concat(a):c,j="number"==typeof y,I=u.useMemo((function(){return j?null:!1===y?"minWidth":"width"}),[y,j]),A=l;j&&(A=(0,Ue.Z)((0,Ue.Z)({},A),{},{width:y}));var k=u.useRef(null);return u.useImperativeHandle(t,(function(){return{getPopupElement:function(){var e;return null===(e=k.current)||void 0===e?void 0:e.popupElement}}})),u.createElement(mt.Z,(0,Ve.Z)({},C,{showAction:E?["click"]:[],hideAction:E?["click"]:[],popupPlacement:v||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:M,prefixCls:Z,popupTransitionName:P,popup:u.createElement("div",{onMouseEnter:O},x),ref:k,stretch:I,popupAlign:b,popupVisible:r,getPopupContainer:g,popupClassName:s()(f,(0,Be.Z)({},"".concat(Z,"-empty"),w)),popupStyle:A,getTriggerDOMNode:S,onPopupVisibleChange:E}),o)};var bt=u.forwardRef(ht),gt=n(33214);function wt(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function St(e){return void 0!==e&&!Number.isNaN(e)}function Et(e,t){var n=e||{},r=n.label||(t?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function Ot(e){var t=(0,Ue.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,Ge.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var Ct=u.createContext(null);function Zt(e){var t=e.visible,n=e.values;if(!t)return null;return u.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,50).map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,Ke.Z)(t))?t:n})).join(", ")),n.length>50?", ...":null)}var xt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Mt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Pt=function(e){return"tags"===e||"multiple"===e},jt=u.forwardRef((function(e,t){var n,r=e.id,o=e.prefixCls,i=e.className,a=e.showSearch,c=e.tagRender,l=e.direction,f=e.omitDomProps,p=e.displayValues,d=e.onDisplayValuesChange,v=e.emptyOptions,m=e.notFoundContent,y=void 0===m?"Not Found":m,h=e.onClear,b=e.mode,g=e.disabled,w=e.loading,S=e.getInputElement,E=e.getRawInputElement,O=e.open,C=e.defaultOpen,Z=e.onDropdownVisibleChange,x=e.activeValue,M=e.onActiveValueChange,P=e.activeDescendantId,j=e.searchValue,I=e.autoClearSearchValue,A=e.onSearch,k=e.onSearchSplit,N=e.tokenSeparators,R=e.allowClear,T=e.suffixIcon,D=e.clearIcon,L=e.OptionList,_=e.animation,V=e.transitionName,F=e.dropdownStyle,B=e.dropdownClassName,U=e.dropdownMatchSelectWidth,z=e.dropdownRender,H=e.dropdownAlign,K=e.placement,W=e.builtinPlacements,G=e.getPopupContainer,$=e.showAction,Y=void 0===$?[]:$,X=e.onFocus,J=e.onBlur,Q=e.onKeyUp,q=e.onKeyDown,ee=e.onMouseDown,te=(0,He.Z)(e,xt),ne=Pt(b),re=(void 0!==a?a:ne)||"combobox"===b,oe=(0,Ue.Z)({},te);Mt.forEach((function(e){delete oe[e]})),null==f||f.forEach((function(e){delete oe[e]}));var ue=u.useState(!1),ie=(0,ze.Z)(ue,2),ae=ie[0],ce=ie[1];u.useEffect((function(){ce((0,Ye.Z)())}),[]);var le=u.useRef(null),se=u.useRef(null),fe=u.useRef(null),pe=u.useRef(null),de=u.useRef(null),ve=u.useRef(!1),me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=u.useState(!1),n=(0,ze.Z)(t,2),r=n[0],o=n[1],i=u.useRef(null),a=function(){window.clearTimeout(i.current)};return u.useEffect((function(){return a}),[]),[r,function(t,n){a(),i.current=window.setTimeout((function(){o(t),n&&n()}),e)},a]}(),ye=(0,ze.Z)(me,3),he=ye[0],be=ye[1],ge=ye[2];u.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=pe.current)||void 0===e?void 0:e.focus,blur:null===(t=pe.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=de.current)||void 0===t?void 0:t.scrollTo(e)},nativeElement:le.current||se.current}}));var we=u.useMemo((function(){var e;if("combobox"!==b)return j;var t=null===(e=p[0])||void 0===e?void 0:e.value;return"string"==typeof t||"number"==typeof t?String(t):""}),[j,b,p]),Se="combobox"===b&&"function"==typeof S&&S()||null,Ee="function"==typeof E&&E(),Oe=(0,Je.x1)(se,null==Ee||null===(n=Ee.props)||void 0===n?void 0:n.ref),Ce=u.useState(!1),Ze=(0,ze.Z)(Ce,2),xe=Ze[0],Me=Ze[1];(0,$e.Z)((function(){Me(!0)}),[]);var Pe=(0,We.Z)(!1,{defaultValue:C,value:O}),je=(0,ze.Z)(Pe,2),Ie=je[0],Ae=je[1],ke=!!xe&&Ie,Ne=!y&&v;(g||Ne&&ke&&"combobox"===b)&&(ke=!1);var Re=!Ne&&ke,Te=u.useCallback((function(e){var t=void 0!==e?e:!ke;g||(Ae(t),ke!==t&&(null==Z||Z(t)))}),[g,ke,Ae,Z]),De=u.useMemo((function(){return(N||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[N]),Le=u.useContext(Ct)||{},_e=Le.maxCount,Ge=Le.rawValues,tt=function(e,t,n){if(!(ne&&St(_e)&&(null==Ge?void 0:Ge.size)>=_e)){var r=!0,o=e;null==M||M(null);var u=function(e,t,n){if(!t||!t.length)return null;var r=!1,o=function e(t,n){var o=(0,gt.Z)(n),u=o[0],i=o.slice(1);if(!u)return[t];var a=t.split(u);return r=r||a.length>1,a.reduce((function(t,n){return[].concat((0,Fe.Z)(t),(0,Fe.Z)(e(n,i)))}),[]).filter(Boolean)}(e,t);return r?void 0!==n?o.slice(0,n):o:null}(e,N,St(_e)?_e-Ge.size:void 0),i=n?null:u;return"combobox"!==b&&i&&(o="",null==k||k(i),Te(!1),r=!1),A&&we!==o&&A(o,{source:t?"typing":"effect"}),r}};u.useEffect((function(){ke||ne||"combobox"===b||tt("",!1,!1)}),[ke]),u.useEffect((function(){Ie&&g&&Ae(!1),g&&!ve.current&&be(!1)}),[g]);var nt=et(),rt=(0,ze.Z)(nt,2),ot=rt[0],ut=rt[1],it=u.useRef(!1),at=[];u.useEffect((function(){return function(){at.forEach((function(e){return clearTimeout(e)})),at.splice(0,at.length)}}),[]);var ct,lt=u.useState({}),st=(0,ze.Z)(lt,2)[1];Ee&&(ct=function(e){Te(e)}),function(e,t,n,r){var o=u.useRef(null);o.current={open:t,triggerOpen:n,customizedTrigger:r},u.useEffect((function(){function t(t){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),o.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[le.current,null===(e=fe.current)||void 0===e?void 0:e.getPopupElement()]}),Re,Te,!!Ee);var ft,pt=u.useMemo((function(){return(0,Ue.Z)((0,Ue.Z)({},e),{},{notFoundContent:y,open:ke,triggerOpen:Re,id:r,showSearch:re,multiple:ne,toggleOpen:Te})}),[e,y,Re,ke,r,re,ne,Te]),dt=!!T||w;dt&&(ft=u.createElement(Qe,{className:s()("".concat(o,"-arrow"),(0,Be.Z)({},"".concat(o,"-arrow-loading"),w)),customizeIcon:T,customizeIconProps:{loading:w,searchValue:we,open:ke,focused:he,showSearch:re}}));var mt,yt=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,l=u.useMemo((function(){return"object"===(0,Ke.Z)(r)?r.clearIcon:o||void 0}),[r,o]),s=u.useMemo((function(){return!(i||!r||!n.length&&!a||"combobox"===c&&""===a)}),[r,i,n.length,a,c]);return{allowClear:s,clearIcon:u.createElement(Qe,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:l},"×")}}(o,(function(){var e;null==h||h(),null===(e=pe.current)||void 0===e||e.focus(),d([],{type:"clear",values:p}),tt("",!1,!1)}),p,R,D,g,we,b),ht=yt.allowClear,wt=yt.clearIcon,Et=u.createElement(L,{ref:de}),Ot=s()(o,i,(0,Be.Z)((0,Be.Z)((0,Be.Z)((0,Be.Z)((0,Be.Z)((0,Be.Z)((0,Be.Z)((0,Be.Z)((0,Be.Z)((0,Be.Z)({},"".concat(o,"-focused"),he),"".concat(o,"-multiple"),ne),"".concat(o,"-single"),!ne),"".concat(o,"-allow-clear"),R),"".concat(o,"-show-arrow"),dt),"".concat(o,"-disabled"),g),"".concat(o,"-loading"),w),"".concat(o,"-open"),ke),"".concat(o,"-customize-input"),Se),"".concat(o,"-show-search"),re)),jt=u.createElement(bt,{ref:fe,disabled:g,prefixCls:o,visible:Re,popupElement:Et,animation:_,transitionName:V,dropdownStyle:F,dropdownClassName:B,direction:l,dropdownMatchSelectWidth:U,dropdownRender:z,dropdownAlign:H,placement:K,builtinPlacements:W,getPopupContainer:G,empty:v,getTriggerDOMNode:function(e){return se.current||e},onPopupVisibleChange:ct,onPopupMouseEnter:function(){st({})}},Ee?u.cloneElement(Ee,{ref:Oe}):u.createElement(vt,(0,Ve.Z)({},e,{domRef:se,prefixCls:o,inputElement:Se,ref:pe,id:r,showSearch:re,autoClearSearchValue:I,mode:b,activeDescendantId:P,tagRender:c,values:p,open:ke,onToggleOpen:Te,activeValue:x,searchValue:we,onSearch:tt,onSearchSubmit:function(e){e&&e.trim()&&A(e,{source:"submit"})},onRemove:function(e){var t=p.filter((function(t){return t!==e}));d(t,{type:"remove",values:[e]})},tokenWithEnter:De})));return mt=Ee?jt:u.createElement("div",(0,Ve.Z)({className:Ot},oe,{ref:le,onMouseDown:function(e){var t,n=e.target,r=null===(t=fe.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout((function(){var e,t=at.indexOf(o);-1!==t&&at.splice(t,1),ge(),ae||r.contains(document.activeElement)||null===(e=pe.current)||void 0===e||e.focus()}));at.push(o)}for(var u=arguments.length,i=new Array(u>1?u-1:0),a=1;a<u;a++)i[a-1]=arguments[a];null==ee||ee.apply(void 0,[e].concat(i))},onKeyDown:function(e){var t,n=ot(),r=e.which;if(r===Xe.Z.ENTER&&("combobox"!==b&&e.preventDefault(),ke||Te(!0)),ut(!!we),r===Xe.Z.BACKSPACE&&!n&&ne&&!we&&p.length){for(var o=(0,Fe.Z)(p),u=null,i=o.length-1;i>=0;i-=1){var a=o[i];if(!a.disabled){o.splice(i,1),u=a;break}}u&&d(o,{type:"remove",values:[u]})}for(var c=arguments.length,l=new Array(c>1?c-1:0),s=1;s<c;s++)l[s-1]=arguments[s];ke&&(null===(t=de.current)||void 0===t||t.onKeyDown.apply(t,[e].concat(l))),null==q||q.apply(void 0,[e].concat(l))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;ke&&(null===(o=de.current)||void 0===o||o.onKeyUp.apply(o,[e].concat(n))),null==Q||Q.apply(void 0,[e].concat(n))},onFocus:function(){be(!0),g||(X&&!it.current&&X.apply(void 0,arguments),Y.includes("focus")&&Te(!0)),it.current=!0},onBlur:function(){ve.current=!0,be(!1,(function(){it.current=!1,ve.current=!1,Te(!1)})),g||(we&&("tags"===b?A(we,{source:"submit"}):"multiple"===b&&A("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),u.createElement(Zt,{visible:he&&!ke,values:p}),jt,ft,ht&&wt),u.createElement(qe.Provider,{value:pt},mt)}));var It=jt,At=function(){return null};At.isSelectOptGroup=!0;var kt=At,Nt=function(){return null};Nt.isSelectOption=!0;var Rt=Nt,Tt=n(98933),Dt=n(8992),Lt=n(17301);var _t=["disabled","title","children","style","className"];function Vt(e){return"string"==typeof e||"number"==typeof e}var Ft=function(e,t){var n=u.useContext(qe),r=n.prefixCls,o=n.id,i=n.open,a=n.multiple,c=n.mode,l=n.searchValue,f=n.toggleOpen,p=n.notFoundContent,d=n.onPopupScroll,v=u.useContext(Ct),m=v.maxCount,y=v.flattenOptions,h=v.onActiveValue,b=v.defaultActiveFirstOption,g=v.onSelect,w=v.menuItemSelectedIcon,S=v.rawValues,E=v.fieldNames,O=v.virtual,C=v.direction,Z=v.listHeight,x=v.listItemHeight,M=v.optionRender,P="".concat(r,"-item"),j=(0,Tt.Z)((function(){return y}),[i,y],(function(e,t){return t[0]&&e[1]!==t[1]})),I=u.useRef(null),A=u.useMemo((function(){return a&&St(m)&&(null==S?void 0:S.size)>=m}),[a,m,null==S?void 0:S.size]),k=function(e){e.preventDefault()},N=function(e){var t;null===(t=I.current)||void 0===t||t.scrollTo("number"==typeof e?{index:e}:e)},R=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=j.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,u=j[o]||{},i=u.group,a=u.data;if(!(i||null!=a&&a.disabled||A))return o}return-1},T=u.useState((function(){return R(0)})),D=(0,ze.Z)(T,2),L=D[0],_=D[1],V=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_(e);var n={source:t?"keyboard":"mouse"},r=j[e];r?h(r.value,e,n):h(null,-1,n)};(0,u.useEffect)((function(){V(!1!==b?R(0):-1)}),[j.length,l]);var F=u.useCallback((function(e){return S.has(e)&&"combobox"!==c}),[c,(0,Fe.Z)(S).toString(),S.size]);(0,u.useEffect)((function(){var e,t=setTimeout((function(){if(!a&&i&&1===S.size){var e=Array.from(S)[0],t=j.findIndex((function(t){return t.data.value===e}));-1!==t&&(V(t),N(t))}}));i&&(null===(e=I.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[i,l]);var B=function(e){void 0!==e&&g(e,{selected:!S.has(e)}),a||f(!1)};if(u.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Xe.Z.N:case Xe.Z.P:case Xe.Z.UP:case Xe.Z.DOWN:var r=0;if(t===Xe.Z.UP?r=-1:t===Xe.Z.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Xe.Z.N?r=1:t===Xe.Z.P&&(r=-1)),0!==r){var o=R(L+r,r);N(o),V(o,!0)}break;case Xe.Z.ENTER:var u,a=j[L];!a||null!=a&&null!==(u=a.data)&&void 0!==u&&u.disabled||A?B(void 0):B(a.value),i&&e.preventDefault();break;case Xe.Z.ESC:f(!1),i&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){N(e)}}})),0===j.length)return u.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(P,"-empty"),onMouseDown:k},p);var U=Object.keys(E).map((function(e){return E[e]})),z=function(e){return e.label};function H(e,t){return{role:e.group?"presentation":"option",id:"".concat(o,"_list_").concat(t)}}var K=function(e){var t=j[e];if(!t)return null;var n=t.data||{},r=n.value,o=t.group,i=(0,tt.Z)(n,!0),a=z(t);return t?u.createElement("div",(0,Ve.Z)({"aria-label":"string"!=typeof a||o?null:a},i,{key:e},H(t,e),{"aria-selected":F(r)}),r):null},W={role:"listbox",id:"".concat(o,"_list")};return u.createElement(u.Fragment,null,O&&u.createElement("div",(0,Ve.Z)({},W,{style:{height:0,width:0,overflow:"hidden"}}),K(L-1),K(L),K(L+1)),u.createElement(Lt.Z,{itemKey:"key",ref:I,data:j,height:Z,itemHeight:x,fullHeight:!1,onMouseDown:k,onScroll:d,virtual:O,direction:C,innerProps:O?null:W},(function(e,t){var n=e.group,r=e.groupOption,o=e.data,i=e.label,a=e.value,c=o.key;if(n){var l,f=null!==(l=o.title)&&void 0!==l?l:Vt(i)?i.toString():void 0;return u.createElement("div",{className:s()(P,"".concat(P,"-group"),o.className),title:f},void 0!==i?i:c)}var p=o.disabled,d=o.title,v=(o.children,o.style),m=o.className,y=(0,He.Z)(o,_t),h=(0,Dt.Z)(y,U),b=F(a),g=p||!b&&A,S="".concat(P,"-option"),E=s()(P,S,m,(0,Be.Z)((0,Be.Z)((0,Be.Z)((0,Be.Z)({},"".concat(S,"-grouped"),r),"".concat(S,"-active"),L===t&&!g),"".concat(S,"-disabled"),g),"".concat(S,"-selected"),b)),C=z(e),Z=!w||"function"==typeof w||b,x="number"==typeof C?C:C||a,j=Vt(x)?x.toString():void 0;return void 0!==d&&(j=d),u.createElement("div",(0,Ve.Z)({},(0,tt.Z)(h),O?{}:H(e,t),{"aria-selected":b,className:E,title:j,onMouseMove:function(){L===t||g||V(t)},onClick:function(){g||B(a)},style:v}),u.createElement("div",{className:"".concat(S,"-content")},"function"==typeof M?M(e,{index:t}):x),u.isValidElement(w)||b,Z&&u.createElement(Qe,{className:"".concat(P,"-option-state"),customizeIcon:w,customizeIconProps:{value:a,disabled:g,isSelected:b}},b?"✓":null))})))};var Bt=u.forwardRef(Ft);function Ut(e,t){return ut(e).join("").toUpperCase().includes(t)}var zt=n(38465),Ht=0,Kt=(0,zt.Z)();function Wt(e){var t=u.useState(),n=(0,ze.Z)(t,2),r=n[0],o=n[1];return u.useEffect((function(){var e;o("rc_select_".concat((Kt?(e=Ht,Ht+=1):e="TEST_OR_SSR",e)))}),[]),e||r}var Gt=n(80027),$t=["children","value"],Yt=["children"];function Xt(e){var t=e,n=t.key,r=t.props,o=r.children,u=r.value,i=(0,He.Z)(r,$t);return(0,Ue.Z)({key:n,value:void 0!==u?u:n,children:o},i)}function Jt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,Gt.Z)(e).map((function(e,n){if(!u.isValidElement(e)||!e.type)return null;var r=e,o=r.type.isSelectOptGroup,i=r.key,a=r.props,c=a.children,l=(0,He.Z)(a,Yt);return t||!o?Xt(e):(0,Ue.Z)((0,Ue.Z)({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},l),{},{options:Jt(c)})})).filter((function(e){return e}))}var Qt=function(e,t,n,r,o){return u.useMemo((function(){var u=e;!e&&(u=Jt(t));var i=new Map,a=new Map,c=function(e,t,n){n&&"string"==typeof n&&e.set(t[n],t)};return function e(t){for(var u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=0;l<t.length;l+=1){var s=t[l];!s[n.options]||u?(i.set(s[n.value],s),c(a,s,n.label),c(a,s,r),c(a,s,o)):e(s[n.options],!0)}}(u),{options:u,valueOptions:i,labelOptions:a}}),[e,t,n,r,o])};function qt(e){var t=u.useRef();t.current=e;var n=u.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var en=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],tn=["inputValue"];var nn=u.forwardRef((function(e,t){var n=e.id,r=e.mode,o=e.prefixCls,i=void 0===o?"rc-select":o,a=e.backfill,c=e.fieldNames,l=e.inputValue,s=e.searchValue,f=e.onSearch,p=e.autoClearSearchValue,d=void 0===p||p,v=e.onSelect,m=e.onDeselect,y=e.dropdownMatchSelectWidth,h=void 0===y||y,b=e.filterOption,g=e.filterSort,w=e.optionFilterProp,S=e.optionLabelProp,E=e.options,O=e.optionRender,C=e.children,Z=e.defaultActiveFirstOption,x=e.menuItemSelectedIcon,M=e.virtual,P=e.direction,j=e.listHeight,I=void 0===j?200:j,A=e.listItemHeight,k=void 0===A?20:A,N=e.labelRender,R=e.value,T=e.defaultValue,D=e.labelInValue,L=e.onChange,_=e.maxCount,V=(0,He.Z)(e,en),F=Wt(n),B=Pt(r),U=!(E||!C),z=u.useMemo((function(){return(void 0!==b||"combobox"!==r)&&b}),[b,r]),H=u.useMemo((function(){return Et(c,U)}),[JSON.stringify(c),U]),K=(0,We.Z)("",{value:void 0!==s?s:l,postState:function(e){return e||""}}),W=(0,ze.Z)(K,2),G=W[0],$=W[1],Y=Qt(E,C,H,w,S),X=Y.valueOptions,J=Y.labelOptions,Q=Y.options,q=u.useCallback((function(e){return ut(e).map((function(e){var t,n,r,o,u,i;(function(e){return!e||"object"!==(0,Ke.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(i=e.value)&&void 0!==i?i:r);var a,c=X.get(t);c&&(void 0===n&&(n=null==c?void 0:c[S||H.label]),void 0===r&&(r=null!==(a=null==c?void 0:c.key)&&void 0!==a?a:t),o=null==c?void 0:c.disabled,u=null==c?void 0:c.title);return{label:n,value:t,key:r,disabled:o,title:u}}))}),[H,S,X]),ee=(0,We.Z)(T,{value:R}),te=(0,ze.Z)(ee,2),ne=te[0],re=te[1],oe=u.useMemo((function(){var e,t=q(B&&null===ne?[]:ne);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t}),[ne,q,r,B]),ue=function(e,t){var n=u.useRef({values:new Map,options:new Map});return[u.useMemo((function(){var r=n.current,o=r.values,u=r.options,i=e.map((function(e){var t;return void 0===e.label?(0,Ue.Z)((0,Ue.Z)({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e})),a=new Map,c=new Map;return i.forEach((function(e){a.set(e.value,e),c.set(e.value,t.get(e.value)||u.get(e.value))})),n.current.values=a,n.current.options=c,i}),[e,t]),u.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(oe,X),ie=(0,ze.Z)(ue,2),ae=ie[0],ce=ie[1],le=u.useMemo((function(){if(!r&&1===ae.length){var e=ae[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ae.map((function(e){var t;return(0,Ue.Z)((0,Ue.Z)({},e),{},{label:null!==(t="function"==typeof N?N(e):e.label)&&void 0!==t?t:e.value})}))}),[r,ae,N]),se=u.useMemo((function(){return new Set(ae.map((function(e){return e.value})))}),[ae]);u.useEffect((function(){if("combobox"===r){var e,t=null===(e=ae[0])||void 0===e?void 0:e.value;$(function(e){return null!=e}(t)?String(t):"")}}),[ae]);var fe=qt((function(e,t){var n=null!=t?t:e;return(0,Be.Z)((0,Be.Z)({},H.value,e),H.label,n)})),pe=function(e,t,n,r,o){return u.useMemo((function(){if(!n||!1===r)return e;var u=t.options,i=t.label,a=t.value,c=[],l="function"==typeof r,s=n.toUpperCase(),f=l?r:function(e,t){return o?Ut(t[o],s):t[u]?Ut(t["children"!==i?i:"label"],s):Ut(t[a],s)},p=l?function(e){return Ot(e)}:function(e){return e};return e.forEach((function(e){if(e[u])if(f(n,p(e)))c.push(e);else{var t=e[u].filter((function(e){return f(n,p(e))}));t.length&&c.push((0,Ue.Z)((0,Ue.Z)({},e),{},(0,Be.Z)({},u,t)))}else f(n,p(e))&&c.push(e)})),c}),[e,r,o,n,t])}(u.useMemo((function(){if("tags"!==r)return Q;var e=(0,Fe.Z)(Q);return(0,Fe.Z)(ae).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return X.has(e)})(n)||e.push(fe(n,t.label))})),e}),[fe,Q,X,ae,r]),H,G,z,w),de=u.useMemo((function(){return"tags"!==r||!G||pe.some((function(e){return e[w||"value"]===G}))||pe.some((function(e){return e[H.value]===G}))?pe:[fe(G)].concat((0,Fe.Z)(pe))}),[fe,w,r,pe,G,H]),ve=u.useMemo((function(){return g?(0,Fe.Z)(de).sort((function(e,t){return g(e,t,{searchValue:G})})):de}),[de,g,G]),me=u.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],u=Et(n,!1),i=u.label,a=u.value,c=u.options,l=u.groupLabel;function s(e,t){Array.isArray(e)&&e.forEach((function(e){if(t||!(c in e)){var n=e[a];o.push({key:wt(e,o.length),groupOption:t,data:e,label:e[i],value:n})}else{var u=e[l];void 0===u&&r&&(u=e.label),o.push({key:wt(e,o.length),group:!0,data:e,label:u}),s(e[c],!0)}}))}return s(e,!1),o}(ve,{fieldNames:H,childrenAsData:U})}),[ve,H,U]),ye=function(e){var t=q(e);if(re(t),L&&(t.length!==ae.length||t.some((function(e,t){var n;return(null===(n=ae[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)})))){var n=D?t:t.map((function(e){return e.value})),r=t.map((function(e){return Ot(ce(e.value))}));L(B?n:n[0],B?r:r[0])}},he=u.useState(null),be=(0,ze.Z)(he,2),ge=be[0],we=be[1],Se=u.useState(0),Ee=(0,ze.Z)(Se,2),Oe=Ee[0],Ce=Ee[1],Ze=void 0!==Z?Z:"combobox"!==r,xe=u.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.source,u=void 0===o?"keyboard":o;Ce(t),a&&"combobox"===r&&null!==e&&"keyboard"===u&&we(String(e))}),[a,r]),Me=function(e,t,n){var r=function(){var t,n=ce(e);return[D?{label:null==n?void 0:n[H.label],value:e,key:null!==(t=null==n?void 0:n.key)&&void 0!==t?t:e}:e,Ot(n)]};if(t&&v){var o=r(),u=(0,ze.Z)(o,2),i=u[0],a=u[1];v(i,a)}else if(!t&&m&&"clear"!==n){var c=r(),l=(0,ze.Z)(c,2),s=l[0],f=l[1];m(s,f)}},Pe=qt((function(e,t){var n,o=!B||t.selected;n=o?B?[].concat((0,Fe.Z)(ae),[e]):[e]:ae.filter((function(t){return t.value!==e})),ye(n),Me(e,o),"combobox"===r?we(""):Pt&&!d||($(""),we(""))})),je=u.useMemo((function(){var e=!1!==M&&!1!==h;return(0,Ue.Z)((0,Ue.Z)({},Y),{},{flattenOptions:me,onActiveValue:xe,defaultActiveFirstOption:Ze,onSelect:Pe,menuItemSelectedIcon:x,rawValues:se,fieldNames:H,virtual:e,direction:P,listHeight:I,listItemHeight:k,childrenAsData:U,maxCount:_,optionRender:O})}),[_,Y,me,xe,Ze,Pe,x,se,H,M,h,P,I,k,U,O]);return u.createElement(Ct.Provider,{value:je},u.createElement(It,(0,Ve.Z)({},V,{id:F,prefixCls:i,ref:t,omitDomProps:tn,mode:r,displayValues:le,onDisplayValuesChange:function(e,t){ye(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach((function(e){Me(e.value,!1,n)}))},direction:P,searchValue:G,onSearch:function(e,t){if($(e),we(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===r&&ye(e),null==f||f(e));else{var n=(e||"").trim();if(n){var o=Array.from(new Set([].concat((0,Fe.Z)(se),[n])));ye(o),Me(n,!0),$("")}}},autoClearSearchValue:d,onSearchSplit:function(e){var t=e;"tags"!==r&&(t=e.map((function(e){var t=J.get(e);return null==t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,Fe.Z)(se),(0,Fe.Z)(t))));ye(n),n.forEach((function(e){Me(e,!0)}))},dropdownMatchSelectWidth:h,OptionList:Bt,emptyOptions:!me.length,activeValue:ge,activeDescendantId:"".concat(F,"_list_").concat(Oe)})))}));var rn=nn;rn.Option=Rt,rn.OptGroup=kt;var on=rn;function un(e){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},un(e)}var an=["prefixCls","bordered","className","getPopupContainer","dropdownClassName","popupClassName","listHeight","placement","listItemHeight","disabled","notFoundContent"];function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cn.apply(this,arguments)}function ln(e,t,n){var r;return r=function(e,t){if("object"!=un(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==un(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var fn="SECRET_COMBOBOX_MODE_DO_NOT_USE",pn="larkmap-select",dn=function(e,t){e.prefixCls;var n=e.bordered,r=void 0===n||n,o=e.className,i=e.getPopupContainer,a=(e.dropdownClassName,e.popupClassName),c=e.listHeight,l=void 0===c?256:c,f=e.placement,p=e.listItemHeight,d=void 0===p?24:p,v=e.disabled,m=e.notFoundContent,y=sn(e,an),h=u.useMemo((function(){var e=y.mode;if("combobox"!==e)return e===fn?"combobox":e}),[y]),b=(0,_e.Z)(y,"suffixIcon","itemIcon"),g=s()(ln({},"".concat(pn,"-borderless"),!r),o);return u.createElement(on,cn({ref:t},b,{listHeight:l,listItemHeight:d,mode:h,prefixCls:pn,placement:f,notFoundContent:null!=m?m:"当前无数据",className:g,getPopupContainer:i,dropdownClassName:a,disabled:v}))},vn=u.forwardRef(dn);vn.SECRET_COMBOBOX_MODE_DO_NOT_USE=fn,vn.Option=Rt,vn.OptGroup=kt;vn.Option;var mn=n(75883);mn.DrawPoint,mn.DrawLine,mn.DrawPolygon,mn.DrawRect,mn.DrawCircle},86547:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},82854:function(e){var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],u=0;u<4;u++)8*r+6*u<=8*e.length?n.push(t.charAt(o>>>6*(3-u)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}},e.exports=n},78990:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},68805:function(e,t,n){!function(){var t=n(82854),r=n(86547).utf8,o=n(78990),u=n(86547).bin,i=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?u.stringToBytes(e):r.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var a=t.bytesToWords(e),c=8*e.length,l=1732584193,s=-271733879,f=-1732584194,p=271733878,d=0;d<a.length;d++)a[d]=16711935&(a[d]<<8|a[d]>>>24)|4278255360&(a[d]<<24|a[d]>>>8);a[c>>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var v=i._ff,m=i._gg,y=i._hh,h=i._ii;for(d=0;d<a.length;d+=16){var b=l,g=s,w=f,S=p;l=v(l,s,f,p,a[d+0],7,-680876936),p=v(p,l,s,f,a[d+1],12,-389564586),f=v(f,p,l,s,a[d+2],17,606105819),s=v(s,f,p,l,a[d+3],22,-1044525330),l=v(l,s,f,p,a[d+4],7,-176418897),p=v(p,l,s,f,a[d+5],12,1200080426),f=v(f,p,l,s,a[d+6],17,-1473231341),s=v(s,f,p,l,a[d+7],22,-45705983),l=v(l,s,f,p,a[d+8],7,1770035416),p=v(p,l,s,f,a[d+9],12,-1958414417),f=v(f,p,l,s,a[d+10],17,-42063),s=v(s,f,p,l,a[d+11],22,-1990404162),l=v(l,s,f,p,a[d+12],7,1804603682),p=v(p,l,s,f,a[d+13],12,-40341101),f=v(f,p,l,s,a[d+14],17,-1502002290),l=m(l,s=v(s,f,p,l,a[d+15],22,1236535329),f,p,a[d+1],5,-165796510),p=m(p,l,s,f,a[d+6],9,-1069501632),f=m(f,p,l,s,a[d+11],14,643717713),s=m(s,f,p,l,a[d+0],20,-373897302),l=m(l,s,f,p,a[d+5],5,-701558691),p=m(p,l,s,f,a[d+10],9,38016083),f=m(f,p,l,s,a[d+15],14,-660478335),s=m(s,f,p,l,a[d+4],20,-405537848),l=m(l,s,f,p,a[d+9],5,568446438),p=m(p,l,s,f,a[d+14],9,-1019803690),f=m(f,p,l,s,a[d+3],14,-187363961),s=m(s,f,p,l,a[d+8],20,1163531501),l=m(l,s,f,p,a[d+13],5,-1444681467),p=m(p,l,s,f,a[d+2],9,-51403784),f=m(f,p,l,s,a[d+7],14,1735328473),l=y(l,s=m(s,f,p,l,a[d+12],20,-1926607734),f,p,a[d+5],4,-378558),p=y(p,l,s,f,a[d+8],11,-2022574463),f=y(f,p,l,s,a[d+11],16,1839030562),s=y(s,f,p,l,a[d+14],23,-35309556),l=y(l,s,f,p,a[d+1],4,-1530992060),p=y(p,l,s,f,a[d+4],11,1272893353),f=y(f,p,l,s,a[d+7],16,-155497632),s=y(s,f,p,l,a[d+10],23,-1094730640),l=y(l,s,f,p,a[d+13],4,681279174),p=y(p,l,s,f,a[d+0],11,-358537222),f=y(f,p,l,s,a[d+3],16,-722521979),s=y(s,f,p,l,a[d+6],23,76029189),l=y(l,s,f,p,a[d+9],4,-640364487),p=y(p,l,s,f,a[d+12],11,-421815835),f=y(f,p,l,s,a[d+15],16,530742520),l=h(l,s=y(s,f,p,l,a[d+2],23,-995338651),f,p,a[d+0],6,-198630844),p=h(p,l,s,f,a[d+7],10,1126891415),f=h(f,p,l,s,a[d+14],15,-1416354905),s=h(s,f,p,l,a[d+5],21,-57434055),l=h(l,s,f,p,a[d+12],6,1700485571),p=h(p,l,s,f,a[d+3],10,-1894986606),f=h(f,p,l,s,a[d+10],15,-1051523),s=h(s,f,p,l,a[d+1],21,-2054922799),l=h(l,s,f,p,a[d+8],6,1873313359),p=h(p,l,s,f,a[d+15],10,-30611744),f=h(f,p,l,s,a[d+6],15,-1560198380),s=h(s,f,p,l,a[d+13],21,1309151649),l=h(l,s,f,p,a[d+4],6,-145523070),p=h(p,l,s,f,a[d+11],10,-1120210379),f=h(f,p,l,s,a[d+2],15,718787259),s=h(s,f,p,l,a[d+9],21,-343485551),l=l+b>>>0,s=s+g>>>0,f=f+w>>>0,p=p+S>>>0}return t.endian([l,s,f,p])};i._ff=function(e,t,n,r,o,u,i){var a=e+(t&n|~t&r)+(o>>>0)+i;return(a<<u|a>>>32-u)+t},i._gg=function(e,t,n,r,o,u,i){var a=e+(t&r|n&~r)+(o>>>0)+i;return(a<<u|a>>>32-u)+t},i._hh=function(e,t,n,r,o,u,i){var a=e+(t^n^r)+(o>>>0)+i;return(a<<u|a>>>32-u)+t},i._ii=function(e,t,n,r,o,u,i){var a=e+(n^(t|~r))+(o>>>0)+i;return(a<<u|a>>>32-u)+t},i._blocksize=16,i._digestsize=16,e.exports=function(e,n){if(null==e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(i(e,n));return n&&n.asBytes?r:n&&n.asString?u.bytesToString(r):t.bytesToHex(r)}}()}}]);